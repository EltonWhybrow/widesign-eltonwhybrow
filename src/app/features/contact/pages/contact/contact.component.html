<app-heading>
  <ng-container text-one>Get</ng-container>
  <ng-container text-two>at</ng-container>
  <ng-container text-three>me!</ng-container>
</app-heading>

<!-- Contact form section -->
<section class="container call-back px-10 xl:px-0 mx-auto py-8 md:py-0 max-w-5xl">
  <div class="grid md:grid-cols-2 gap-14 px-0 md:px-10 xl:px-0 mx-auto pb-20 max-w-5xl">
    <!-- TODO: make contact-form comp -->
    <div>
      <p class="heading_sub mb-4">
        Existing client? Please check the <a routerLink="/client-area"
          class="inline-block group transition duration-300 border-b border-b-raw-500">client area<span
            class="block max-w-0 group-hover:max-w-full transition-all duration-500 h-0.5 bg-raw-600"></span></a> first
        to see if that answers your question.
      </p>

      <!-- Form global errors -->
      <ng-container *ngIf="!submitted">

        <div *ngIf="formError" class="notification notification--is-warning flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="inline mr-2 h-6 w-6 flex-none" fill="none" viewBox="0 0 24 24"
            stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
          </svg>
          <div>
            <p>
              There is a problem with sending the form at this time. This may be a connection error or the server is
              down.
            </p>
          </div>
        </div>
        <div *ngIf="formSuccess" class="notification notification--is-success flex items-center">
          <!-- <button class="delete" (click)="removeNotification($event)"></button> -->

          <svg xmlns="http://www.w3.org/2000/svg" class="inline mr-2 h-6 w-6 flex-none" fill="none" viewBox="0 0 24 24"
            stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <div>
            <p>
              We have received your input please allow 24hrs for us to get back to you.
            </p>
          </div>
        </div>

      </ng-container>

      <form [formGroup]="contactForm" class="form" (ngSubmit)="onSubmit()">
        <div>
          <!-- Name Field -->
          <label class="relative py-2 block">
            <span class="absolute inset-y-0 left-0 flex items-center pl-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-400" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
              </svg>
            </span>
            <input
              class="placeholder:italic placeholder:text-slate-400 block bg-white w-full border border-slate-300 rounded-md py-2 pl-9 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm"
              placeholder="Your name" type="text" name="name" formControlName="contactName" required />
          </label>

          <!-- Name errors -->
          <ng-container
            *ngIf="(submitted && !contactName?.valid) || (!contactName?.valid && contactName?.dirty && contactName?.touched)">

            <div class="notification notification--is-warning flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="inline mr-2 h-6 w-6 flex-none" fill="none"
                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
              </svg>
              <div>
                <p *ngIf="contactName?.hasError('required')">
                  Please supply a contact name.
                </p>
                <p>
                  Name is not correct format, it should only contain letters, point, single
                  apostrophe, dashes and space.
                </p>
              </div>
            </div>
          </ng-container>

          <!-- Email Field -->
          <label class="relative py-2 block">
            <span class="absolute inset-y-0 left-0 flex items-center pl-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-400" fill="none" viewBox="0 0 24 24"
                stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round"
                  d="M16.5 12a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25" />
              </svg>

            </span>
            <input
              class="placeholder:italic placeholder:text-slate-400 block bg-white w-full border border-slate-300 rounded-md py-2 pl-9 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm"
              placeholder="Email" type="email" name="email" formControlName="contactEmail" required />
          </label>

          <!-- Email errors -->
          <ng-container
            *ngIf="(submitted && !contactEmail?.valid) || (!contactEmail?.valid && contactEmail?.dirty && contactEmail?.touched)">

            <div class="notification notification--is-warning flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="inline mr-2 h-6 w-6 flex-none" fill="none"
                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
              </svg>
              <div>
                <p *ngIf="contactEmail?.hasError('required')">
                  Please supply a contact email.
                </p>
                <p>
                  Email is not correct format, you know the deal.
                </p>
              </div>
            </div>
          </ng-container>

          <!-- Message Field -->
          <label class="relative py-2 block">
            <span class="absolute inset-y-0 left-0 flex items-start pl-2 pt-5">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-400" fill="none" viewBox="0 0 24 24"
                stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z" />
              </svg>
            </span>
            <textarea id="message" type="textarea" name="message" formControlName="contactMessage" rows="4"
              class="placeholder:italic placeholder:text-slate-400 block bg-white w-full border border-slate-300 rounded-md py-2 pl-9 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm"
              placeholder="Leave a message..."></textarea>
          </label>

          <!-- Message errors -->
          <ng-container
            *ngIf="(submitted && !contactMessage?.valid) || (!contactMessage?.valid && contactMessage?.dirty && contactMessage?.touched)">

            <div class="notification notification--is-warning flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="inline mr-2 h-6 w-6 flex-none" fill="none"
                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
              </svg>
              <div>
                <p *ngIf="contactMessage?.hasError('required')">
                  Please supply a message for me to read.
                </p>
                <p>
                  Message is not correct format, it should only contain letters, point, single
                  apostrophe, dashes and space.
                </p>
              </div>
            </div>
          </ng-container>

          <!-- Number Field -->
          <label class="relative py-2 block">
            <span class="absolute inset-y-0 left-0 flex items-center pl-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-400" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
              </svg>
            </span>
            <input
              class="placeholder:italic placeholder:text-slate-400 block bg-white w-full border border-slate-300 rounded-md py-2 pl-9 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm"
              placeholder="Contact number" type="tel" name="number" formControlName="contactNumber" required />
          </label>
        </div>

        <!-- Number errors -->
        <ng-container
          *ngIf="(submitted && !contactNumber?.valid) || (!contactNumber?.valid && contactNumber?.dirty && contactNumber?.touched)">

          <div class="notification notification--is-warning flex items-center">

            <svg xmlns="http://www.w3.org/2000/svg" class="inline-block mr-2 h-6 w-6 flex-none" fill="none"
              viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
            </svg>
            <div>
              <p *ngIf="contactNumber?.hasError('required')">
                We need a contact number so we can contact you regarding your query.
              </p>

              <p>
                Contact number should only be numerical. No apostrophe, dashes and spaces please.
              </p>
            </div>

          </div>
        </ng-container>


        <button [class.is-disabled]="!contactForm.valid || disableSubmit"
          class="form_btn text-white inline-flex mt-2 pl-5 pr-4 py-2 bg-tealy-500 hover:bg-tealy-600 hover:text-white transition duration-150 ease-in-out rounded">Submit
          details
          <svg xmlns="http://www.w3.org/2000/svg" class="ml-2 h-6 w-6" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd"
              d="M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z"
              clip-rule="evenodd" />
            <path fill-rule="evenodd"
              d="M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z"
              clip-rule="evenodd" />
          </svg>
        </button>

      </form>

    </div>

    <!-- end orig form -->

    <picture>
      <source srcset="assets/imgs/contact-me.webp" type="image/webp">
      <source srcset="assets/imgs/contact-me.jpg" type="image/jpeg">
      <img class="w-full object-cover object-center rounded-lg shadow-md" src="assets/imgs/contact-me.jpg"
        alt="Elton Whybrow">
    </picture>

  </div>
</section>
